{"filter":false,"title":"index.html","tooltip":"/index.html","undoManager":{"mark":39,"position":39,"stack":[[{"start":{"row":0,"column":0},"end":{"row":344,"column":0},"action":"insert","lines":["Skip to content","","","  ","Pull requests ","Issues ","Marketplace ","Explore ","",""," ","","","Code Issues 0 Pull requests 0 Projects 0 Wiki Security Pulse Community ","Branch: master ","BringingDataToLifeWithVisualizations/02-D3.js/04-d3_interactive_charts/interactive_d3.html ","Find file ","Copy path "," NielMc Included duplicate data ","56c9ed6 on 30 Jan ","2 contributors "," "," ","152 lines (121 sloc) 4.13 KB ","Raw","Blame","History","","","<!DOCTYPE html>","","<html lang=\"en\">","","<head>","","    <meta charset=\"UTF-8\">","","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","","    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">","","    <title>D3 and Scalable Vector Graphics</title>","","","","    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js\"></script>","","</head>","","<body>","","    <h1>Data Visualisation</h1>","","","","    <h2>D3 Charting</h2>","","","","    <button onclick=\"change_data()\">Change Data</button>","","    <button onclick=\"filter_data()\">Filtered Data</button>","","    <input type=text id=\"filter_value\" placeholder=\"Minimum required (100)\"/>","","    <hr>","","    ","","    <div id=\"draw-here\"></div>","","","","    <script>","","    ","","    // Size of Chart","","    var w = 500;","","    var h = 500;","","    var barPadding = 1;","","    var numberOfBars = 19;","","    ","","    // Useful Variables","","    var colWidth = w / numberOfBars;","","    var barWidth = colWidth - barPadding;","","","","    // Create an SVG element","","    var svg = d3.select(\"#draw-here\")","","        .append(\"svg\")","","        .attr(\"width\", w)","","        .attr(\"height\", h);","","","","","","    // First Call to change_data will plot the initial chart","","    change_data();","","","","","","    // Generates a Random set of data and plots it as a bar chart","","    // Called once on page load, then each time the button is clicked.","","    function change_data() {","","        var data = generate_random_data(numberOfBars);","","        plot_data(data);","","    }","","    ","","    // Generates a Random set of data and plots it as a bar chart","","    // Called once on page load, then each time the button is clicked.","","    function filter_data() {","","        var data = generate_random_data(numberOfBars);","","        data = data.filter(function (d) { return d >= get_filter_value(); });","","        plot_data(data);","","    }","","    ","","    ","","    function plot_data(data) {","","        // Bind the data to the collections of rectangles and text in the svg element","","        var bars = svg.selectAll(\"rect\")","","                .data(data);","","        var labels = svg.selectAll(\"text\")","","                .data(data);","","        ","","        // Remove any unneeded rectangles and labels (if new data has less items than the existing chart)","","        bars.exit().remove();","","        labels.exit().remove();","","","","        // Append any new rectangles and labels that are needed (if new data has more items than existing chart)","","        create_bars(bars);","","        create_labels(labels);","","","","        // There should now be the right number of rectangles and labels. ","","        // Resize and position each one according to the new data items.","","        resize_bars(bars, data);","","        position_labels(labels, data);        ","","    }","","","","    function create_bars(bars) {","","        bars.enter()","","            .append(\"rect\");","","    }","","    ","","    function resize_bars(bars, data) {","","        bars.transition()","","            .duration(500)","","            .attr(\"x\", function(d, i) {","","                return i * colWidth;","","            })","","            .attr(\"y\", function(d) {","","                return h - d;","","            })","","            .attr(\"width\", barWidth)","","            .attr(\"height\", function(d) {","","                return d;","","            });","","    }    ","","    ","","","","    function create_labels(labels) {","","        labels.enter()","","            .append(\"text\")","","            .attr(\"text-anchor\", \"middle\")","","            .attr(\"font-family\", \"sans-serif\")","","            .attr(\"font-size\", \"11px\")","","            .attr(\"fill\", \"white\");","","    }","","","","    ","","    function position_labels(labels, data) {","","        labels.transition()","","            .duration(500)","","            .text(function(d) {","","                return d;","","            })","","            .attr(\"x\", function(d, i) {","","                return i * colWidth + barWidth / 2;","","            })","","            .attr(\"y\", function(d) {","","                return h - d + 14;","","            });","","    }","","    ","","    function generate_random_data(n) {","","        data = [];","","        ","","        for(i=0; i<n; i++) {","","            var value = Math.floor((Math.random() * 500) + 1);","","            data.push(value);","","        }","","        return data;","","    }","","    ","","    function get_filter_value() {","","        var value = null;","","        var x=document.getElementById(\"filter_value\").value;","","        value = parseInt(x);","","","","        if(isNaN(value))","","            value=100;","","        ","","        return value;","","        }","","        ","","    </script>","","</body>","","</html>","","© 2019 GitHub, Inc.","Terms","Privacy","Security","Status","Help","Contact GitHub","Pricing","API","Training","Blog","About","",""],"id":1}],[{"start":{"row":331,"column":0},"end":{"row":341,"column":4},"action":"remove","lines":["© 2019 GitHub, Inc.","Terms","Privacy","Security","Status","Help","Contact GitHub","Pricing","API","Training","Blog"],"id":2}],[{"start":{"row":331,"column":0},"end":{"row":332,"column":5},"action":"remove","lines":["","About"],"id":3},{"start":{"row":330,"column":0},"end":{"row":331,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":0,"column":7},"end":{"row":18,"column":24},"action":"remove","lines":[" content","","","  ","Pull requests ","Issues ","Marketplace ","Explore ","",""," ","","","Code Issues 0 Pull requests 0 Projects 0 Wiki Security Pulse Community ","Branch: master ","BringingDataToLifeWithVisualizations/02-D3.js/04-d3_interactive_charts/interactive_d3.html ","Find file ","Copy path "," NielMc Included duplica"],"id":4}],[{"start":{"row":0,"column":0},"end":{"row":8,"column":7},"action":"remove","lines":["Skip tote data ","56c9ed6 on 30 Jan ","2 contributors "," "," ","152 lines (121 sloc) 4.13 KB ","Raw","Blame","History"],"id":5}],[{"start":{"row":13,"column":57},"end":{"row":14,"column":0},"action":"remove","lines":["",""],"id":6}],[{"start":{"row":11,"column":74},"end":{"row":12,"column":0},"action":"remove","lines":["",""],"id":7}],[{"start":{"row":9,"column":26},"end":{"row":10,"column":0},"action":"remove","lines":["",""],"id":8}],[{"start":{"row":14,"column":0},"end":{"row":15,"column":0},"action":"remove","lines":["",""],"id":9},{"start":{"row":13,"column":0},"end":{"row":14,"column":0},"action":"remove","lines":["",""]},{"start":{"row":12,"column":50},"end":{"row":13,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":13,"column":109},"end":{"row":14,"column":0},"action":"remove","lines":["",""],"id":10}],[{"start":{"row":7,"column":6},"end":{"row":8,"column":0},"action":"remove","lines":["",""],"id":11}],[{"start":{"row":18,"column":0},"end":{"row":19,"column":0},"action":"remove","lines":["",""],"id":12},{"start":{"row":17,"column":31},"end":{"row":18,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":17,"column":31},"end":{"row":18,"column":0},"action":"remove","lines":["",""],"id":13}],[{"start":{"row":22,"column":56},"end":{"row":23,"column":0},"action":"remove","lines":["",""],"id":14}],[{"start":{"row":23,"column":58},"end":{"row":24,"column":0},"action":"remove","lines":["",""],"id":15}],[{"start":{"row":24,"column":77},"end":{"row":25,"column":0},"action":"remove","lines":["",""],"id":16}],[{"start":{"row":27,"column":4},"end":{"row":28,"column":0},"action":"remove","lines":["",""],"id":17},{"start":{"row":27,"column":0},"end":{"row":27,"column":4},"action":"remove","lines":["    "]},{"start":{"row":26,"column":0},"end":{"row":27,"column":0},"action":"remove","lines":["",""]},{"start":{"row":25,"column":8},"end":{"row":26,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":28,"column":0},"end":{"row":29,"column":0},"action":"remove","lines":["",""],"id":18},{"start":{"row":27,"column":0},"end":{"row":28,"column":0},"action":"remove","lines":["",""]},{"start":{"row":26,"column":30},"end":{"row":27,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":20,"column":0},"end":{"row":21,"column":0},"action":"remove","lines":["",""],"id":19},{"start":{"row":19,"column":0},"end":{"row":20,"column":0},"action":"remove","lines":["",""]},{"start":{"row":18,"column":24},"end":{"row":19,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":26,"column":4},"end":{"row":27,"column":0},"action":"remove","lines":["",""],"id":20}],[{"start":{"row":37,"column":4},"end":{"row":38,"column":0},"action":"remove","lines":["",""],"id":21}],[{"start":{"row":44,"column":0},"end":{"row":45,"column":0},"action":"remove","lines":["",""],"id":22}],[{"start":{"row":57,"column":0},"end":{"row":58,"column":0},"action":"remove","lines":["",""],"id":23},{"start":{"row":56,"column":0},"end":{"row":57,"column":0},"action":"remove","lines":["",""]},{"start":{"row":55,"column":0},"end":{"row":56,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":60,"column":0},"end":{"row":61,"column":0},"action":"remove","lines":["",""],"id":24},{"start":{"row":59,"column":0},"end":{"row":60,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":60,"column":0},"end":{"row":61,"column":0},"action":"remove","lines":["",""],"id":25},{"start":{"row":59,"column":0},"end":{"row":60,"column":0},"action":"remove","lines":["",""]},{"start":{"row":58,"column":18},"end":{"row":59,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":59,"column":65},"end":{"row":60,"column":0},"action":"remove","lines":["",""],"id":26}],[{"start":{"row":171,"column":0},"end":{"row":172,"column":0},"action":"remove","lines":["",""],"id":27},{"start":{"row":170,"column":4},"end":{"row":171,"column":0},"action":"remove","lines":["",""]},{"start":{"row":170,"column":0},"end":{"row":170,"column":4},"action":"remove","lines":["    "]},{"start":{"row":169,"column":0},"end":{"row":170,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":259,"column":8},"end":{"row":260,"column":0},"action":"remove","lines":["",""],"id":28},{"start":{"row":259,"column":4},"end":{"row":259,"column":8},"action":"remove","lines":["    "]},{"start":{"row":259,"column":0},"end":{"row":259,"column":4},"action":"remove","lines":["    "]},{"start":{"row":258,"column":0},"end":{"row":259,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":257,"column":9},"end":{"row":258,"column":0},"action":"remove","lines":["",""],"id":29}],[{"start":{"row":253,"column":4},"end":{"row":253,"column":5},"action":"remove","lines":[" "],"id":30},{"start":{"row":253,"column":0},"end":{"row":253,"column":4},"action":"remove","lines":["    "]},{"start":{"row":252,"column":0},"end":{"row":253,"column":3},"action":"remove","lines":["","   "]},{"start":{"row":251,"column":22},"end":{"row":252,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":251,"column":22},"end":{"row":252,"column":0},"action":"remove","lines":["",""],"id":31}],[{"start":{"row":249,"column":24},"end":{"row":250,"column":0},"action":"remove","lines":["",""],"id":32}],[{"start":{"row":223,"column":8},"end":{"row":224,"column":0},"action":"remove","lines":["",""],"id":33},{"start":{"row":223,"column":4},"end":{"row":223,"column":8},"action":"remove","lines":["    "]},{"start":{"row":223,"column":0},"end":{"row":223,"column":4},"action":"remove","lines":["    "]},{"start":{"row":222,"column":0},"end":{"row":223,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":221,"column":18},"end":{"row":222,"column":0},"action":"remove","lines":["",""],"id":34}],[{"start":{"row":224,"column":62},"end":{"row":225,"column":0},"action":"remove","lines":["",""],"id":35}],[{"start":{"row":245,"column":24},"end":{"row":246,"column":0},"action":"insert","lines":["",""],"id":36},{"start":{"row":246,"column":0},"end":{"row":246,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":247,"column":22},"end":{"row":248,"column":0},"action":"insert","lines":["",""],"id":37},{"start":{"row":248,"column":0},"end":{"row":248,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":242,"column":0},"end":{"row":243,"column":0},"action":"remove","lines":["",""],"id":38}],[{"start":{"row":233,"column":0},"end":{"row":233,"column":4},"action":"remove","lines":["    "],"id":39}],[{"start":{"row":232,"column":0},"end":{"row":233,"column":0},"action":"remove","lines":["",""],"id":40}]]},"ace":{"folds":[],"scrolltop":3226,"scrollleft":0,"selection":{"start":{"row":232,"column":0},"end":{"row":232,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":229,"state":"js-start","mode":"ace/mode/html"}},"timestamp":1567772665342,"hash":"65f4a1e71a577d40130c72b6d2a782f38bc16407"}